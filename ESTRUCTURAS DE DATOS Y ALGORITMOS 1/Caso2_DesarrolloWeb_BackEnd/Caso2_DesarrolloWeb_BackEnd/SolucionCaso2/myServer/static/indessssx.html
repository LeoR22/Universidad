<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles/default.css">
  <script type="module" src="scripts/index.js" defer></script>
  <link rel="icon" type="image/png" sizes="120x120"
    href="https://www.uao.edu.co/wp-content/themes/uao-theme/assets/favicon/apple-icon-120x120.png">
  <title>Simulador Financiero - UAO</title>
</head>

<body>
  <header>
    <div class="logo-container">
      <img src="images/Logo-50-años.png" alt="Logo 50 años">
    </div>
    <h1>Simulador de Cuotas</h1>
  </header>

  <main>
    <section>
      <form id="simuladorForm">
        <table>
          <caption>Formulario de Simulación</caption>
          <tr>
            <td><label for="nombre">Nombre:</label></td>
            <td><input type="text" name="nombre" id="nombre" value="Lina Rios"></td>
          </tr>
          <tr>
            <td><label for="prestamo">Préstamo $:</label></td>
            <td><input type="number" name="prestamo" id="prestamo" value="6000000"></td>
          </tr>
          <tr>
            <td><label for="meses">Meses:</label></td>
            <td><input type="number" name="meses" id="meses" value="12"></td>
          </tr>
          <tr>
            <td><label for="interes">Interés %:</label></td>
            <td><input type="number" name="interes" id="interes" value="1.5" step="0.01"></td>
          </tr>
        </table><br>

        <textarea id="laRespuesta" readonly></textarea><br>

        <label for="opcion">Opción:</label>
        <select name="opcion" id="opcion">
          <option value="Calcular" selected>Calcular Cuota</option>
          <option value="ListarTodos">Listar todos</option>
          <option value="ListarGanan">Listar ganan más</option>
        </select><br>

        <button type="submit" id="procesar">Ejecutar funcionalidad</button>
      </form>
    </section>
  </main>

  <footer>
    <hr>
    <p>Simulador financiero - UAO</p>
  </footer>

  <script>
    document.getElementById('simuladorForm').addEventListener('submit', async (event) => {
      event.preventDefault();

      const formData = new FormData(event.target);
      const response = await fetch('/procesaCuota', {
        method: 'POST',
        body: formData
      });

      const result = await response.text();
      document.getElementById('laRespuesta').value = result;
    });
  </script>
</body>

</html>